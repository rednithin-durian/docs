{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-apollo-docs/src/components/docset-switcher.js"],"names":["Wrapper","width","height","backgroundColor","transparentize","colors","text2","overflow","position","top","left","zIndex","perspective","transitionProperty","transitionDuration","transitionTimingFunction","Menu","marginBottom","borderRadius","boxShadow","transformOrigin","transition","outline","NavListTitle","smallCaps","marginLeft","fontSize","fontWeight","color","text3","NavList","NavListItem","NavListItemLink","display","padding","textDecoration","primaryLight","h4","primary","NavListItemTitle","text1","StyledNav","flexFlow","writingMode","margin","paddingTop","breakpoints","md","NavItem","NavItemTitle","NavItemDescription","lineHeight","FooterNav","alignItems","background","FooterNavItem","marginRight","SocialLinks","marginTop","SocialLink","svg","size","fill","DocsetSwitcher","props","menuRef","useRef","useWindowSize","useKey","onClose","useEffect","open","setTimeout","current","focus","buttonRef","menuStyles","useMemo","getBoundingClientRect","hasSocialUrls","Boolean","twitterUrl","youtubeUrl","onClick","event","target","currentTarget","style","opacity","visibility","ref","tabIndex","transform","navCategories","map","categoryName","navItems","key","item","url","href","title","description","shortName","footerNavConfig","Object","entries","text"],"mappings":"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","file":"79ac12c6-1b62e0311f0fbf8a4e4b.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React, {Fragment, useEffect, useMemo, useRef} from 'react';\nimport styled from '@emotion/styled';\nimport useKey from 'react-use/lib/useKey';\nimport useWindowSize from 'react-use/lib/useWindowSize';\nimport {IconTwitter} from '@apollo/space-kit/icons/IconTwitter';\nimport {IconYoutube} from '@apollo/space-kit/icons/IconYoutube';\nimport {boxShadow} from './search';\nimport {breakpoints, colors, smallCaps} from 'gatsby-theme-apollo-core';\nimport {size, transparentize} from 'polished';\n\nconst Wrapper = styled.div({\n  width: '100%',\n  height: '100%',\n  backgroundColor: transparentize(0.5, colors.text2),\n  overflow: 'auto',\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  zIndex: 3,\n  perspective: '1000px',\n  transitionProperty: 'opacity, visibility',\n  transitionDuration: '150ms',\n  transitionTimingFunction: 'ease-in-out'\n});\n\nconst transitionDuration = 150; // in ms\nconst Menu = styled.div({\n  marginBottom: 24,\n  borderRadius: 4,\n  boxShadow,\n  backgroundColor: 'white',\n  overflow: 'hidden',\n  position: 'absolute',\n  transformOrigin: '25% 25%',\n  transition: `transform ${transitionDuration}ms ease-in-out`,\n  outline: 'none'\n});\n\nconst NavListTitle = styled.h6(smallCaps, {\n  marginLeft: 12,\n  marginBottom: 0,\n  fontSize: 13,\n  fontWeight: 600,\n  color: colors.text3\n});\n\nconst NavList = styled.ul({\n  margin: 0,\n  marginBottom: 20\n});\n\nconst NavListItem = styled.li({\n  listStyle: 'none',\n  margin: 2,\n  marginLeft: 3\n});\n\nconst NavListItemLink = styled.a({\n  display: 'block',\n  height: '100%',\n  padding: 8,\n  borderRadius: 4,\n  textDecoration: 'none',\n  backgroundColor: 'transparent',\n  transitionProperty: 'color, background-color',\n  transitionDuration: '150ms',\n  transitionTimingFunction: 'ease-in-out',\n  '@media (hover: hover)': {\n    ':hover': {\n      backgroundColor: colors.primaryLight,\n      h4: {\n        color: colors.primary\n      }\n    }\n  }\n});\n\nconst NavListItemTitle = styled.h4({\n  marginBottom: 0,\n  fontWeight: 600,\n  color: colors.text1\n});\n\nconst StyledNav = styled.nav({\n  display: 'flex',\n  flexFlow: 'row wrap',\n  writingMode: 'vertical-lr',\n  margin: 12,\n  height: 240,\n  paddingTop: 15,\n  [breakpoints.md]: {\n    height: 'auto',\n    width: 300\n  }\n});\n\nconst NavItem = styled.div({\n  display: 'block',\n  width: 220,\n  writingMode: 'horizontal-tb',\n  [breakpoints.md]: {\n    width: '100%'\n  }\n});\n\nexport const NavItemTitle = styled.h4({\n  marginBottom: 8,\n  fontWeight: 600,\n  color: 'inherit'\n});\n\nexport const NavItemDescription = styled.p({\n  marginBottom: 0,\n  fontSize: 14,\n  lineHeight: 1.5,\n  color: colors.text3,\n  transition: 'color 150ms ease-in-out'\n});\n\nconst FooterNav = styled.nav({\n  display: 'flex',\n  alignItems: 'center',\n  padding: '16px 24px',\n  backgroundColor: colors.background,\n  [breakpoints.md]: {\n    display: 'block'\n  }\n});\n\nconst FooterNavItem = styled.a({\n  color: colors.text2,\n  textDecoration: 'none',\n  ':hover': {\n    color: colors.text3\n  },\n  ':not(:last-child)': {\n    marginRight: 24\n  }\n});\n\nconst SocialLinks = styled.div({\n  display: 'flex',\n  marginLeft: 'auto',\n  [breakpoints.md]: {\n    marginTop: 8\n  }\n});\n\nconst SocialLink = styled.a({\n  color: colors.text2,\n  ':hover': {\n    color: colors.text3\n  },\n  ':not(:last-child)': {\n    marginRight: 24\n  },\n  svg: {\n    ...size(24),\n    display: 'block',\n    fill: 'currentColor'\n  }\n});\n\nexport default function DocsetSwitcher(props) {\n  const menuRef = useRef(null);\n  const {width} = useWindowSize();\n  useKey('Escape', props.onClose);\n\n  useEffect(() => {\n    if (props.open) {\n      // focus the menu after it has been transitioned in\n      setTimeout(() => {\n        menuRef.current.focus();\n      }, transitionDuration);\n    }\n  }, [props.open]);\n\n  const {current} = props.buttonRef;\n  const menuStyles = useMemo(() => {\n    if (!current) {\n      return null;\n    }\n\n    const {top, left, height} = current.getBoundingClientRect();\n    return {\n      top: top + height + 2,\n      left\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [current, width, props.open]);\n\n  function handleWrapperClick(event) {\n    if (event.target === event.currentTarget) {\n      props.onClose();\n    }\n  }\n\n  const hasSocialUrls = Boolean(props.twitterUrl || props.youtubeUrl);\n  return (\n    <Wrapper\n      onClick={handleWrapperClick}\n      style={{\n        opacity: props.open ? 1 : 0,\n        visibility: props.open ? 'visible' : 'hidden'\n      }}\n    >\n      <Menu\n        ref={menuRef}\n        tabIndex={-1}\n        style={{\n          ...menuStyles,\n          transform:\n            !props.open && 'translate3d(0,-24px,-16px) rotate3d(1,0,0.1,8deg)'\n        }}\n      >\n        <StyledNav>\n          {props.navCategories.map(([categoryName, navItems]) => (\n            <NavItem key={categoryName}>\n              {categoryName !== 'undefined' && (\n                <NavListTitle>{categoryName}</NavListTitle>\n              )}\n              <NavList key={categoryName}>\n                {navItems.map(item => (\n                  <NavListItem key={item.url}>\n                    <NavListItemLink href={item.url} title={item.description}>\n                      <NavListItemTitle>\n                        {item.shortName || item.title}\n                      </NavListItemTitle>\n                    </NavListItemLink>\n                  </NavListItem>\n                ))}\n              </NavList>\n            </NavItem>\n          ))}\n        </StyledNav>\n        {(props.footerNavConfig || hasSocialUrls) && (\n          <FooterNav>\n            <Fragment>\n              {props.footerNavConfig &&\n                Object.entries(props.footerNavConfig).map(([text, props]) => (\n                  <FooterNavItem key={text} {...props}>\n                    {text}\n                  </FooterNavItem>\n                ))}\n              {hasSocialUrls && (\n                <SocialLinks>\n                  {props.twitterUrl && (\n                    <SocialLink\n                      href={props.twitterUrl}\n                      title=\"Twitter\"\n                      target=\"_blank\"\n                    >\n                      <IconTwitter />\n                    </SocialLink>\n                  )}\n                  {props.youtubeUrl && (\n                    <SocialLink\n                      href={props.youtubeUrl}\n                      title=\"YouTube\"\n                      target=\"_blank\"\n                    >\n                      <IconYoutube />\n                    </SocialLink>\n                  )}\n                </SocialLinks>\n              )}\n            </Fragment>\n          </FooterNav>\n        )}\n      </Menu>\n    </Wrapper>\n  );\n}\n\nDocsetSwitcher.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  buttonRef: PropTypes.object.isRequired,\n  navCategories: PropTypes.array.isRequired,\n  footerNavConfig: PropTypes.object.isRequired,\n  twitterUrl: PropTypes.string,\n  youtubeUrl: PropTypes.string\n};\n"],"sourceRoot":""}